# Задание
Нарисовать схему и описать алгоритм реализации EventBus на Rabbitmq. Описать библиотеки, которые можно будет использовать в php для реализации паттерна. В каких фреймворках используется подоюное повоедение и как. Простые примеры заданий, в которых полезно использовать этот паттерн.
# Решение
![схема](https://raw.githubusercontent.com/zemchenkov/test-tasks/master/4/rabbitmq.jpg)
> Producer - поставщик, программа отправляющая сообщения.
Queue - очередь, она существует внутри RabbitMQ.
Exchange - точка доступа, принимает сообщения и отправляет их в очередь.
Consumer - подписчик, программа принимающая и обрабатывающая сообщения.

Алгоритм:
1. Поставщик отправляет сообщение в точку доступа.
2. Точка доступа отправляет сообщения в очередь/очереди или удаляет его.
3. Очередь отправляет сообщение свободному подписчику.
4. Подписчик обрабатывает сообщение.

Наиболее популярной библиотекой для работы с rabbitmq на php является php-amqplib/php-amqplib, она же используется в приложения на yii.
Во фреймворке Symfony используется бандл php-amqplib/RabbitMqBundle.

Примеры:
В основном очереди используют для выноса обработки тяжелых операций в фон, чтобы пользователь не ждал ответа и в памяти не висел процесс. Например: генерация pdf файла, ресайз картинки, отправка email.
Причем поставщик  и подписчик могут быть написаны на разных языках программирования, а брокер сообщений обеспечивает низкую связность между части приложения.	